{"version":3,"sources":["Components/Gallery/PhotoCard/PhotoCard.module.css","Components/SearchForm/SearchForm.module.css","Components/Gallery/Gallery.module.css","services/Fetcher.js","Components/SearchForm/SearchForm.jsx","Components/Gallery/PhotoCard/PhotoCard.jsx","Components/Gallery/Modal/Modal.jsx","Components/Gallery/Gallery.jsx","services/ErrorNotification.jsx","Components/App/App.jsx","index.js","Components/App/App.module.css","Components/Gallery/Modal/Modal.module.css"],"names":["module","exports","options","fetchPhotos","query","pageNumber","axios","get","SearchForm","state","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","this","className","styles","searchForm","type","autoComplete","onChange","placeholder","Component","PhotoCard","webformatURL","likes","views","comments","downloads","onFullscreenClick","photoCard","onClick","src","alt","stats","statsItem","fullscreenButton","Modal","handleEscKey","largeImageURL","tabIndex","overlay","id","onKeyDown","modal","Gallery","galleryItems","isModalOpen","gallery","map","key","ErrorNotification","text","App","error","currentQuery","currentPageNumber","then","data","hits","catch","handleModalOpening","parentNode","clickedItemPhotoURL","currentTarget","firstElementChild","largeImage","find","item","handleLoadMore","window","scrollTo","top","document","body","scrollHeight","behavior","message","length","app","button","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.7b6277f4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoCard\":\"PhotoCard_photoCard__12-er\",\"stats\":\"PhotoCard_stats__FqDCr\",\"statsItem\":\"PhotoCard_statsItem__20Vb9\",\"fullscreenButton\":\"PhotoCard_fullscreenButton__3I56G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchForm_searchForm__1T9RL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__3C6TW\"};","import axios from 'axios';\n\nconst options = {\n  BASE_URL:\n    'https://pixabay.com/api/?key=14073931-175cead39f199f74b34025e26&q=',\n  PER_PAGE: 12,\n  IMG_PROPS: '&image_type=photo&orientation=horizontal',\n};\n\nconst fetchPhotos = (query = 'ukraine', pageNumber = 1) =>\n  axios.get(\n    `${options.BASE_URL + query}&per_page=${options.PER_PAGE}` +\n      `&page=${pageNumber}${options.IMG_PROPS}`,\n  );\n\nexport default fetchPhotos;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './SearchForm.module.css';\n\nclass SearchForm extends Component {\n  state = { query: '' };\n\n  handleChange = e => {\n    this.setState({\n      query: e.target.value,\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: '' });\n  };\n\n  render() {\n    const { query } = this.state;\n    return (\n      <form className={styles.searchForm} onSubmit={this.handleSubmit}>\n        <input\n          type=\"text\"\n          autoComplete=\"off\"\n          value={query}\n          onChange={this.handleChange}\n          placeholder=\"Search images...\"\n        />\n      </form>\n    );\n  }\n}\n\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchForm;\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./PhotoCard.module.css\";\r\n\r\nconst PhotoCard = ({\r\n  webformatURL,\r\n  likes,\r\n  views,\r\n  comments,\r\n  downloads,\r\n  onFullscreenClick\r\n}) => {\r\n  return (\r\n    <div className={styles.photoCard} onClick={onFullscreenClick}>\r\n      <img src={webformatURL} alt=\"\" />\r\n\r\n      <div className={styles.stats}>\r\n        <p className={styles.statsItem}>\r\n          <i className=\"material-icons\">thumb_up</i>\r\n          {likes}\r\n        </p>\r\n        <p className={styles.statsItem}>\r\n          <i className=\"material-icons\">visibility</i>\r\n          {views}\r\n        </p>\r\n        <p className={styles.statsItem}>\r\n          <i className=\"material-icons\">comment</i>\r\n          {comments}\r\n        </p>\r\n        <p className={styles.statsItem}>\r\n          <i className=\"material-icons\">cloud_download</i>\r\n          {downloads}\r\n        </p>\r\n      </div>\r\n      <button type=\"button\" className={styles.fullscreenButton}>\r\n        <i className=\"material-icons\">zoom_out_map</i>\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nPhotoCard.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  likes: PropTypes.number,\r\n  views: PropTypes.number,\r\n  comments: PropTypes.number,\r\n  downloads: PropTypes.number,\r\n  onFullscreenClick: PropTypes.func.isRequired\r\n};\r\n\r\nexport default PhotoCard;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Modal.module.css\";\r\n\r\nconst Modal = ({ onFullscreenClick, handleEscKey, largeImageURL }) => {\r\n  return (\r\n    <div\r\n      tabIndex=\"0\"\r\n      className={styles.overlay}\r\n      onClick={onFullscreenClick}\r\n      id=\"overlay\"\r\n      onKeyDown={handleEscKey}\r\n    >\r\n      <div className={styles.modal}>\r\n        <img src={largeImageURL} alt=\"\" />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nModal.propTypes = {\r\n  onFullscreenClick: PropTypes.func.isRequired,\r\n  handleEscKey: PropTypes.func.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired\r\n};\r\n\r\nexport default Modal;\r\n","import React, { Fragment } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Gallery.module.css\";\r\nimport PhotoCard from \"./PhotoCard/PhotoCard\";\r\nimport Modal from \"./Modal/Modal\";\r\n\r\nconst Gallery = ({\r\n  galleryItems,\r\n  onFullscreenClick,\r\n  isModalOpen,\r\n  handleEscKey,\r\n  largeImageURL\r\n}) => {\r\n  return (\r\n    <Fragment>\r\n      {isModalOpen ? (\r\n        <Modal\r\n          largeImageURL={largeImageURL}\r\n          onFullscreenClick={onFullscreenClick}\r\n          handleEscKey={handleEscKey}\r\n        />\r\n      ) : (\r\n        <ul className={styles.gallery}>\r\n          {galleryItems.map(\r\n            ({\r\n              id,\r\n              webformatURL,\r\n              largeImageURL,\r\n              likes,\r\n              views,\r\n              comments,\r\n              downloads\r\n            }) => (\r\n              <li key={id}>\r\n                <PhotoCard\r\n                  webformatURL={webformatURL}\r\n                  largeImageURL={largeImageURL}\r\n                  likes={likes}\r\n                  views={views}\r\n                  comments={comments}\r\n                  downloads={downloads}\r\n                  onFullscreenClick={onFullscreenClick}\r\n                />\r\n              </li>\r\n            )\r\n          )}\r\n        </ul>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nGallery.propTypes = {\r\n  galleryItems: PropTypes.array.isRequired,\r\n  onFullscreenClick: PropTypes.func.isRequired,\r\n  isModalOpen: PropTypes.bool.isRequired,\r\n  handleEscKey: PropTypes.func.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired\r\n};\r\n\r\nexport default Gallery;\r\n","import React from \"react\";\r\n\r\nconst ErrorNotification = ({ text }) => {\r\n  return (\r\n    <div>\r\n      <p>Oops, something went wrong: {text}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ErrorNotification;\r\n","import React, { Component, Fragment } from 'react';\nimport styles from './App.module.css';\nimport fetchPhotos from '../../services/Fetcher';\nimport SearchForm from '../SearchForm/SearchForm';\nimport Gallery from '../Gallery/Gallery';\nimport ErrorNotification from '../../services/ErrorNotification';\n\nclass App extends Component {\n  state = {\n    galleryItems: [],\n    error: null,\n    isModalOpen: false,\n    largeImageURL: '',\n    currentQuery: '',\n    currentPageNumber: 1,\n  };\n\n  componentDidMount() {\n    this.fetchPhotos();\n  }\n\n  fetchPhotos = query => {\n    fetchPhotos(query)\n      .then(({ data }) => {\n        this.setState({ galleryItems: data.hits, currentQuery: query });\n      })\n      .catch(error => this.setState({ error }));\n  };\n\n  handleModalOpening = e => {\n    if (e.target.parentNode.type === 'button') {\n      const clickedItemPhotoURL = e.currentTarget.firstElementChild.src;\n      const findItem = this.state.galleryItems.find(\n        item => item.webformatURL === clickedItemPhotoURL,\n      );\n      const largeImage = findItem.largeImageURL;\n      this.setState({ largeImageURL: largeImage, isModalOpen: true });\n    }\n\n    if (e.target.id === 'overlay') {\n      this.setState({ isModalOpen: false });\n    }\n  };\n\n  handleEscKey = e => {\n    if (e.key === 'Escape') {\n      this.setState({ isModalOpen: false });\n    }\n  };\n\n  handleLoadMore = () => {\n    fetchPhotos(this.state.currentQuery, this.state.currentPageNumber + 1)\n      .then(({ data }) => {\n        this.setState({\n          galleryItems: [...this.state.galleryItems, ...data.hits],\n          currentPageNumber: this.state.currentPageNumber + 1,\n        });\n        window.scrollTo({\n          top: document.body.scrollHeight,\n          behavior: 'smooth',\n        });\n      })\n      .catch(error => this.setState({ error }));\n  };\n\n  render() {\n    const { error, galleryItems, isModalOpen, largeImageURL } = this.state;\n    return (\n      <Fragment>\n        {error && <ErrorNotification text={error.message} />}\n        {galleryItems.length > 0 && (\n          <div className={styles.app}>\n            <SearchForm onSubmit={this.fetchPhotos} />\n            <Gallery\n              galleryItems={galleryItems}\n              onFullscreenClick={this.handleModalOpening}\n              isModalOpen={isModalOpen}\n              handleEscKey={this.handleEscKey}\n              largeImageURL={largeImageURL}\n            />\n            <button\n              type=\"button\"\n              className={styles.button}\n              onClick={this.handleLoadMore}\n            >\n              Load more\n            </button>\n          </div>\n        )}\n      </Fragment>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './Components/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__yKE2A\",\"button\":\"App_button__z1eoE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1d6Gz\",\"modal\":\"Modal_modal__1mw5o\"};"],"sourceRoot":""}